1. Инициализацию любого проекта можно с npm
    npm init
    <настройка проекта>

    - обычно точка входа приложения - index.js, но в зависимости от либ/фв
        может быть другой файл

2. package.json хранит зависимости проекта
    - npm install <название пакета>

3. nodemon - лайв сервер (перезапускается при изменениях)
    - все пакеты хранятся в node_modules
    - в package.json - появляется поле dependencies / devDependencies
    - появляется package-lock.json - системный файл для оптимизации различных пакетов

    - чтобы не таскать с собой папку node_modules - можно удалить её, а с помощью
        package.json и команды npm install - восстановить все модули

4. в package.json есть секция scipts - автоматизация приложения

------

5. node index - пример запуска приложения

    глобальный объект - __dirname - папка в которой идёт разработка (абсолютный путь)
    __filename - файл из которого запущен объект (абсолютный путь)

6. Модули - для связи модлей между собой есть объект Module и свойство exports
    для подключения модулей используется функция require
    глобальные модули подключются как есть ("fs") , а собственные - через относительный путь    
    ("./user.js")

    -- для файла index.js
        // console.log("Hi");
        // console.log(__dirname);
        // console.log(__filename);

        const u = require("./user");

        console.log(u); // { name: 'Elena', age: 25 }
        u.sayHello();

        // в JS есть функции которые вызывают сами себя
        (function(require, module, exprots, __filename, __dirname){

        })();   // любой файл ля nodejs - nodejs оборачивает в такую функцию каждый модуль и получается
        // так:
        // (function(require, module, exprots, __filename, __dirname){
        //     const u = require("./user");

        //     console.log(u); // { name: 'Elena', age: 25 }
        //     u.sayHello();
        // })(); 

    -- для файла user.js
        const user = {
            name: "Elena",
            age: 25
        };

        // module.exports = user;


        //Можно заносить большее кол-во данных
        module.exports = {
            user: user,
            sayHello: function() {
                console.log("Hello");
            }
        }

------
7. С установкой Nodejs устанавливаются стандартные модули
    К примеру - PATH

8. Модуль FS

9. Модуль OS

10. Модуль Events

11. Модуль http (в index.js)

12. Чтобы не перезапускать сервер 100000 раз можно использовать nodemon
    В package.json добавляются скрипты
    "scripts": {
        "start": "node index.js",
        "dev": "nodemon index.js"
    },

    и тогда запускаем не node index.js а npm run dev

13. Создаём просто web-server

    (пока без фрэймворков и либ) 
    // Модуль http
    const http = require("http");



    const server = http.createServer((req, res) => {
        if(req.method === "GET") {
            // указываем content type
            res.writeHead(200, {
                "Content-Type":"text/html"  // тип контента - то как браузер воспринимает ответ
            });

            res.end(`
                <h1>Form</h1>
                <form method="post" action="/">
                    <input name="title" type="text" />
                    <button type="submit">Send</button>
                </form>
            `);
        } else if (req.method === "POST") {
            // echo
            // получим сообщение пользователя
            const body = [];    // тело запроса - массив 
            res.writeHead(200, {
                "Content-Type": "text/html; charset=utf-8" // тип ответа и кодировка
            });
            // chunk - порция данных/параметров
            // req - наследник EventEmitter, у него есть событие data - Buffer, тот самый
            req.on("data", (data) => {
                body.push(Buffer.from(data));   // записываем данные в массив
            });

            // по завершению передачи все данные будут в массиве body
            req.on("end", () => {
                //console.log(body.toString()); // title=Jeka
                const message = body.toString().split("=")[1];

                res.end(`
                    <h1>Ваше сообщение: ${message} </h1>
                `);

            });
        }
    });


    server.listen(3000, () => {
        console.log("Server is running...")
    });



    - видно, что не очень удобно, так как код громоздкий и 
    html занимает много места => надо делить

---
14
